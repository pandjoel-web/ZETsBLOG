<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ZET`S BLOG</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

    <style>
        @font-face {
            font-family: "Vantage";
            src: url("./assets/fonts/VantageRegular-L3xY5.ttf") format("truetype");
        }

        .font-vantage {
            font-family: "Vantage", sans-serif;
            letter-spacing: 0.05em;
        }

        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: auto;
        }

        .hero {
            pointer-events: none;
        }

        #searchDropdown {
            position: absolute;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
        }
    </style>
</head>

<body class="bg-white text-black font-vantage tracking-wide">
    <!-- Partikel -->
    <div id="particles-js"></div>

    <!-- Loading -->
    <div id="loadingScreen" class="fixed inset-0 z-50 bg-white flex flex-col items-center justify-center space-y-6">
        <lottie-player src="https://lottie.host/2c7998e7-175a-45d7-baf5-7c3c890cfe8f/xzx2zjGCZk.json"
            background="transparent" speed="1" style="width: 200px; height: 200px;" loop autoplay></lottie-player>
        <p class="text-sm text-gray-500 animate-pulse">Memuat Halaman...</p>
    </div>

    <!-- Navbar -->
    <nav id="navbar"
        class="opacity-0 fixed top-4 left-1/2 transform -translate-x-1/2 z-40 bg-white/80 backdrop-blur-md shadow-xl border border-black/10 rounded-full px-6 py-2 w-[90%] max-w-5xl flex items-center justify-between transition-all duration-300">
        <div class="flex items-center space-x-2">
            <img src="/assets/logo/logo.png" alt="Logo" class="h-6 w-auto" />
            <span class="text-sm font-semibold">ZET`S BLOG</span>
        </div>
        <div class="flex-1 flex justify-center">
            <input id="navbarSearchInput" type="text" placeholder="Cari artikel..."
                class="w-full max-w-xs px-4 py-1.5 rounded-full bg-gray-100 text-black placeholder:text-gray-400 text-sm focus:outline-none focus:ring-2 focus:ring-black transition-all duration-300 transform opacity-0 translate-y-2 pointer-events-none" />
        </div>
        <div class="flex items-center space-x-6">
            <a href="#" class="text-sm font-semibold text-black hover:text-gray-600 transition">Beranda</a>
            <div class="relative group">
                <button
                    class="flex items-center space-x-2 text-sm font-semibold text-black hover:text-gray-600 transition focus:outline-none">
                    <span>Tentang</span>
                    <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor"
                        stroke-width="2" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>
                <div
                    class="absolute right-0 mt-2 w-40 bg-white border border-gray-200 rounded-lg shadow-lg opacity-0 scale-95 group-hover:opacity-100 group-hover:scale-100 transition-all duration-200 origin-top-right z-40">
                    <a href="https://pandjoel-web.github.io/ndy/"
                        class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition">Portofolio</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Search Dropdown -->
    <div id="searchDropdown"
        class="w-full max-w-xl bg-white border border-gray-200 rounded-xl shadow-xl p-6 z-30 hidden transition-all duration-300">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-sm text-gray-700">
            <div>
                <h3 class="font-bold text-gray-600 mb-2">Web</h3>
                <ul class="space-y-1">
                    <li><a href="#" class="hover:text-black">Dasar HTML</a></li>
                    <li><a href="#" class="hover:text-black">Dasar CSS</a></li>
                    <li><a href="#" class="hover:text-black">Framework</a></li>
                </ul>
            </div>
            <div>
                <h3 class="font-bold text-gray-600 mb-2">PBB</h3>
                <ul class="space-y-1">
                    <li><a href="#" class="hover:text-black">Desain UI/UX</a></li>
                    <li><a href="#" class="hover:text-black">Flutter</a></li>
                    <li><a href="#" class="hover:text-black">Widget</a></li>
                </ul>
            </div>
            <div>
                <h3 class="font-bold text-gray-600 mb-2">PBTGM</h3>
                <ul class="space-y-1">
                    <li><a href="#" class="hover:text-black">Dasar C#</a></li>
                    <li><a href="#" class="hover:text-black">Dasar Java</a></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main id="mainContent" class="pt-15 opacity-0">
        <section class="hero min-h-screen flex flex-col items-center justify-center text-center px-4">
            <div class="pointer-events-auto">
                <h1 class="text-5xl md:text-7xl font-bold  mb-4">
                    Selamat datang di <span class="text-blue-600">Blog</span> sayaa..
                </h1>
                <p class="text-4xl text-gray-500 max-w-xl">わたしのブログへようこそ</p>
            </div>
        </section>

        <section class="px-6 py-24 bg-white text-black">
            <div class="max-w-7xl mx-auto">
                <div class="mb-16 text-center">
                    <h2 class="text-4xl md:text-6xl font-bold mb-4 uppercase">ZET`s BLOG</h2>
                    <p class="text-gray-500 max-w-xl mx-auto text-lg">dimana saya bisa berbagi beberapa hal kepada
                        kalian</p>
                </div>
                <div id="gallery" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
            </div>
        </section>
    </main>

    <!-- Script -->
    <script>
        const artikelList = [
            { id: 1, title: "Dasar HTML", category: "Web", image: "assets/img/web.png", link: "/detail/dasar_html.html" },
            { id: 2, title: "Dasar CSS", category: "Web", image: "assets/img/css.png", link: "/detail/dasar_css.html" },
            { id: 3, title: "Framework", category: "Web", image: "assets/img/framework.png", link: "/detail/framework.html" },
            { id: 4, title: "Desain UI/UX", category: "PBB", image: "assets/img/uiux.png", link: "/detail/uiux.html" },
            { id: 5, title: "Flutter", category: "PBB", image: "assets/img/flutter.png", link: "/detail/flutter.html" },
            { id: 6, title: "Widget", category: "PBB", image: "assets/img/widget.png", link: "/detail/widget.html" },
            { id: 7, title: "Dasar C#", category: "PBTGM", image: "assets/img/csharp.png", link: "/detail/dasar_csharp.html" },
            { id: 8, title: "Dasar Java", category: "PBTGM", image: "assets/img/java.png", link: "/detail/dasar_java.html" },
        ];

        const gallery = document.getElementById('gallery');
        const searchInput = document.getElementById('navbarSearchInput');
        const searchDropdown = document.getElementById('searchDropdown');
        const gallerySection = document.getElementById('gallery');

        function renderKarya(list = artikelList) {
            gallery.innerHTML = "";
            list.forEach(item => {
                gallery.innerHTML += `
          <a href="${item.link}" class="block group transition-all duration-300">
            <div class="relative overflow-hidden rounded-lg shadow-lg cursor-pointer">
              <img src="${item.image}" alt="${item.title}" class="w-full h-80 object-cover transition-transform duration-500 group-hover:scale-110" />
              <div class="absolute inset-0 bg-black/50 group-hover:bg-blue-600/30 transition-colors duration-500 ease-in-out"></div>
              <div class="absolute bottom-0 left-0 w-full p-4 z-10">
                <h4 class="text-white text-base font-semibold transition-opacity duration-500 group-hover:opacity-100 opacity-90">
                  ${item.title}
                </h4>
              </div>
            </div>
          </a>
        `;
            });
        }

        renderKarya();

        searchInput.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();
            if (query.trim() !== "") {
                searchDropdown.classList.remove('hidden');
                gsap.to(searchDropdown, { y: 0, opacity: 1, duration: 0.3 });

                const filtered = artikelList.filter(item =>
                    item.title.toLowerCase().includes(query) || item.category.toLowerCase().includes(query)
                );
                renderKarya(filtered);
            } else {
                renderKarya();
                gsap.to(searchDropdown, {
                    y: -10, opacity: 0, duration: 0.2,
                    onComplete: () => searchDropdown.classList.add('hidden')
                });
            }
        });

        document.addEventListener('click', (e) => {
            if (!searchDropdown.contains(e.target) && !searchInput.contains(e.target)) {
                gsap.to(searchDropdown, {
                    y: -10, opacity: 0, duration: 0.2,
                    onComplete: () => searchDropdown.classList.add('hidden')
                });
            }
        });

        function checkScroll() {
            const rect = gallerySection.getBoundingClientRect();
            const isVisible = rect.top <= window.innerHeight && rect.bottom >= 0;

            if (isVisible) {
                searchInput.classList.remove("opacity-0", "translate-y-2", "pointer-events-none");
                searchInput.classList.add("opacity-100", "translate-y-0", "pointer-events-auto");
            } else {
                searchInput.classList.remove("opacity-100", "translate-y-0", "pointer-events-auto");
                searchInput.classList.add("opacity-0", "translate-y-2", "pointer-events-none");
                searchDropdown.classList.add("hidden");
            }
        }

        window.addEventListener("scroll", checkScroll);

        window.addEventListener("load", () => {
            setTimeout(() => {
                gsap.to("#loadingScreen", {
                    duration: 1,
                    opacity: 0,
                    ease: "power2.out",
                    onComplete: () => {
                        document.getElementById("loadingScreen").style.display = "none";
                        gsap.to("#mainContent", { duration: 1, opacity: 1 });
                        gsap.to("#navbar", { duration: 1, opacity: 1, y: 0, from: { y: -20 } });

                        particlesJS("particles-js", {
                            particles: {
                                number: { value: 400, density: { enable: true, value_area: 800 } },
                                color: { value: "#000000" },
                                shape: { type: "circle" },
                                opacity: { value: 0.3, random: true },
                                size: { value: 3, random: true },
                                line_linked: {
                                    enable: true,
                                    distance: 100,
                                    color: "#000000",
                                    opacity: 0.2,
                                    width: 1
                                },
                                move: {
                                    enable: true,
                                    speed: 1.5,
                                    out_mode: "out"
                                }
                            },
                            interactivity: {
                                events: {
                                    onhover: { enable: true, mode: "repulse" },
                                    onclick: { enable: true, mode: "push" },
                                },
                                modes: {
                                    repulse: { distance: 70, duration: 0.4 },
                                    push: { particles_nb: 4 },
                                },
                            },
                            retina_detect: true
                        });
                    }
                });
            }, 1600);
        });
    </script>
</body>

</html>